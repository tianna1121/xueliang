{"version":3,"sources":["webpack:////Users/heimofang/Desktop/uniapp/雪亮工程/components/tabBar/Data.vue?2eda","webpack:////Users/heimofang/Desktop/uniapp/雪亮工程/components/tabBar/Data.vue?d22b","webpack:////Users/heimofang/Desktop/uniapp/雪亮工程/components/tabBar/Data.vue?3a4a","webpack:////Users/heimofang/Desktop/uniapp/雪亮工程/components/tabBar/Data.vue?49d6","uni-app:///components/tabBar/Data.vue","webpack:////Users/heimofang/Desktop/uniapp/雪亮工程/components/tabBar/Data.vue?f707","webpack:////Users/heimofang/Desktop/uniapp/雪亮工程/components/tabBar/Data.vue?1de8"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACc;;;AAGjE;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,0MAEN;AACL,GAAG;AACH;AACA,WAAW,oPAEN;AACL,GAAG;AACH;AACA,WAAW,wLAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxBA;AAAA;AAAA;AAAA;AAAk0B,CAAgB,kyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsEt1B,yD;AACA;AACA;AACA,wBADA;AAEA,oBAFA,EADA;;AAKA,MALA,kBAKA;AACA;AACA,eADA;AAEA,iBAFA;AAGA,eAHA;AAIA,iBAJA;AAKA,mBALA;AAMA,eANA;AAOA;AACA,iBADA;AAEA,qBAFA;AAGA,oBAHA;AAIA,uBAJA;AAKA,qBALA;AAMA,oBANA;AAOA,mBAPA;AAQA,mBARA;AASA,oBATA,EAPA;;AAkBA,iBAlBA;AAmBA,mBAnBA;AAoBA,kBApBA;AAqBA,mBArBA;AAsBA,oBAtBA;;;AAyBA,GA/BA;AAgCA,SAhCA,qBAgCA;AACA;AACA;AACA;;AAEA,GArCA;;;AAwCA;AACA,SADA,mBACA;AACA;AACA;AACA,yBADA;AAEA,wBAFA;AAGA,sBAHA;;AAKA;AACA;AACA,KAVA;AAWA;AACA,oBAZA,8BAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SADA,GACA,eADA,GACA,UADA,GACA,iBADA;AAEA,gBAFA,GAEA,iBAFA;AAGA;AACA,KA5BA;;AA8BA,WA9BA,mBA8BA,GA9BA,EA8BA;AACA;AACA;AACA,KAjCA;AAkCA,iBAlCA,yBAkCA,GAlCA,EAkCA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAzCA;AA0CA,cA1CA,wBA0CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,2BAFA;AAGA,2BAHA;;AAKA;AACA;AACA;AACA;AACA,0BADA;AAEA,2BAFA;AAGA,2BAHA;;AAKA;AACA;AACA;AACA;AACA,4BADA;AAEA,2BAFA;AAGA,2BAHA;;AAKA;AACA;AACA;AACA;AACA,4BADA;AAEA,2BAFA;AAGA,2BAHA;;AAKA;AACA;AACA;AACA;AACA,4BADA;AAEA,2BAFA;AAGA,2BAHA;;AAKA;AACA;AACA;AACA;AACA,6BADA;AAEA,2BAFA;AAGA,2BAHA;;AAKA;AACA;;AAEA;AACA,wBADA;;AAGA;AACA,UADA,CACA,qDADA,EACA,WADA,EACA,cADA;AAEA,UAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BADA;AAEA,0BAFA;;;AAKA,SAPA,MAOA;AACA;AACA,+BADA;AAEA,0BAFA;AAGA,wBAHA;;AAKA;;AAEA,OArBA;AAsBA,WAtBA,CAsBA;AACA;AACA;AACA,OAzBA;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAxIA;AAyIA,iBAzIA,2BAyIA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAnJA;AAoJA,WApJA,qBAoJA;AACA;AACA,SADA,CACA,gDADA,EACA,cADA;AAEA,UAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAPA,MAOA;AACA;AACA,+BADA;AAEA,0BAFA;AAGA,wBAHA;;AAKA;AACA,OAnBA;AAoBA,WApBA,CAoBA;AACA;AACA,OAtBA;AAuBA,KA5KA;AA6KA,YA7KA,sBA6KA;AACA;AACA,SADA,CACA,kDADA,EACA,cADA;AAEA,UAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SALA,MAKA;AACA;AACA,+BADA;AAEA,0BAFA;AAGA,wBAHA;;AAKA;AACA,OAjBA;AAkBA,WAlBA,CAkBA;AACA;AACA,OApBA;AAqBA,KAnMA;AAoMA;AACA,cArMA,sBAqMA,GArMA,EAqMA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KA7MA;AA8MA,aA9MA,uBA8MA;AACA;AACA;AACA;AACA,iBADA;AAEA,qBAFA;AAGA,oBAHA;AAIA,uBAJA;AAKA,qBALA;AAMA,oBANA;AAOA,mBAPA;AAQA,mBARA;AASA,oBATA;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAnOA;AAoOA,kBApOA,0BAoOA,CApOA,EAoOA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,KAjPA;AAkPA,mBAlPA,2BAkPA,CAlPA,EAkPA;AACA;AACA;AACA;AACA;AACA;AACA,KAxPA;AAyPA,gBAzPA,0BAyPA;AACA;AACA;AACA;AACA,oBADA;AAEA,kBAFA;;;;AAMA;AACA,eADA,mBACA,GADA,EACA;AACA;AACA;AACA;AACA,yCADA;AAEA,qBAFA,qBAEA;AACA;AACA;AACA,eALA;;AAOA,kBAPA,kBAOA;AACA;AACA,mCADA;AAEA,gCAFA;AAGA,8BAHA;;AAKA,eAbA;;AAeA,WAhBA,MAgBA;AACA;AACA;AACA;AACA,SAvBA;;;AA0BA;AACA;AACA,KA9RA;AA+RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAXA;;AAaA,KA7SA;AA8SA,cA9SA,wBA8SA;AACA;AACA,KAhTA;AAiTA,aAjTA,qBAiTA,GAjTA,EAiTA,IAjTA,EAiTA;AACA;AACA;AACA,KApTA;AAqTA;AACA,aAtTA,uBAsTA;AACA;AACA,KAxTA,EAxCA,E;;;;;;;;;;;;;ACvEA;AAAA;AAAA;AAAA;AAA2/C,CAAgB,43CAAG,EAAC,C;;;;;;;;;;;ACA/gD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/tabBar/Data.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./Data.vue?vue&type=template&id=63377f90&\"\nvar renderjs\nimport script from \"./Data.vue?vue&type=script&lang=js&\"\nexport * from \"./Data.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Data.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/tabBar/Data.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Data.vue?vue&type=template&id=63377f90&\"","var components = {\n  uniNavBar: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-nav-bar/uni-nav-bar\" */ \"@/components/uni-nav-bar/uni-nav-bar.vue\"\n    )\n  },\n  uniIcons: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-icons/uni-icons\" */ \"@/components/uni-icons/uni-icons.vue\"\n    )\n  },\n  wPicker: function() {\n    return import(\n      /* webpackChunkName: \"components/w-picker/w-picker\" */ \"@/components/w-picker/w-picker.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Data.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Data.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"main\">\r\n\t\t<!-- 自定义标题 -->\r\n\t\t<uni-nav-bar fixed=\"true\" color=\"#007AFF\" background-color=\"#F8F8F8\" :status-bar=\"true\" title=\"我要上报\" />\r\n\t\t<view class=\"main_box\">\n\t\t<view class=\"item\">\r\n\t\t\t<view class=\"item-title\">事件类型</view>\r\n\t\t\t<view class=\"item-next\">\r\n\t\t\t\t<picker :range=\"type1\" @change=\"sizeTypeChange\" :value=\"typeNum1\" mode=\"selector\">\r\n\t\t\t\t\t<view class=\"uni-input\">{{ type1[typeNum1] }}</view>\r\n\t\t\t\t</picker>\r\n\t\t\t\t<uni-icons type=\"forward\" color=\"#C7C7CC\" size=\"22\" />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"item\">\r\n\t\t\t<view class=\"item-title\">事件类别</view>\r\n\t\t\t<view class=\"item-next\" @click=\"tosts\">\r\n\t\t\t\t<picker :disabled=\"disabled\" :range=\"type2\" @change=\"sizeType2Change\" :value=\"typeNum2\" mode=\"selector\">\r\n\t\t\t\t\t<view class=\"uni-input\">{{ type2[typeNum2] }}</view>\r\n\t\t\t\t</picker>\r\n\t\t\t\t<uni-icons type=\"forward\" color=\"#C7C7CC\" size=\"22\" />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"item\">\r\n\t\t\t<view class=\"item-title\">事发时间</view>\r\n\t\t\t<view class=\"item-next\" @tap=\"showPicker\">\r\n\t\t\t\t<view class=\"uni-input\">{{ upData.time }}</view>\r\n\t\t\t\t<uni-icons type=\"forward\" color=\"#C7C7CC\" size=\"22\" />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"item\">\r\n\t\t\t<view class=\"item-title\">事发地点</view>\r\n\t\t\t<view class=\"item-next\">\r\n\t\t\t\t<view class=\"adresss\" @tap=\"get_location\">{{ upData.address }}</view>\r\n\t\t\t\t<image class=\"address-icon\" src=\"../../static/img/news/location1.png\"></image>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"item1\">\r\n\t\t\t<view class=\"item-title1\">事件描述</view>\r\n\t\t\t<textarea maxlength=\"200\" v-model=\"upData.content\" class=\"mark-ipt\" placeholder=\"请输入文字描述\" type=\"text\" auto-height placeholder-class=\"placeholder\" />\r\n\t\t</view>\r\n\t\t<view class=\"item2\">\r\n\t\t\t<view class=\"item-title1\">图片/视频</view>\r\n\t\t\t<hUpload @schange=\"schange\" @upload=\"setAttachData\" ref=\"upload\"></hUpload>\r\n\t\t\t<!-- <image class=\"uplaod-img\" src=\"../../static/img/news/upload.png\" @tap=\"upLoadImg\"></image> -->\r\n\t\t\t<view class=\"tip-uplaod\">点击上传图片/视频</view>\r\n\t\t</view>\r\n\t\t<button type=\"primary\" class=\"btn-login\" @tap=\"updataJump\">上报</button>\n\t\t<view class=\"end\">\n\t\t\t\n\t\t</view>\r\n\t\t<w-picker\r\n\t\t\tmode=\"date\"\r\n\t\t\tstartYear=\"2020\"\r\n\t\t\tendYear=\"2030\"\r\n\t\t\t:value=\"dates\"\r\n\t\t\t:current=\"false\"\r\n\t\t\tfields=\"second\"\r\n\t\t\t@confirm=\"onConfirm($event, 'date1')\"\r\n\t\t\t@cancel=\"onCancel\"\r\n\t\t\t:disabled-after=\"true\"\r\n\t\t\tref=\"date1\"\r\n\t\t></w-picker>\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport uniNavBar from '@/components/uni-nav-bar/uni-nav-bar.vue';\r\nimport hUpload from '@/components/h-upload/h-upload.vue';\r\nimport { setIsNewStorage,getIsNewStorage} from '@/test/tool.js'\r\nexport default {\r\n\tcomponents: {\r\n\t\tuniNavBar,\r\n\t\thUpload\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttype1: [],\n\t\t\ttypeNum1:0,\r\n\t\t\ttype2: [],\n\t\t\ttypeNum2:0,\r\n\t\t\ttype2Index: 0,\r\n\t\t\tdates: '',\r\n\t\t\tupData: {\r\n\t\t\t\ttype: '0',\r\n\t\t\t\tcategory: '0',\r\n\t\t\t\ttime: '点击选择',\r\n\t\t\t\taddress: '选择地点',\r\n\t\t\t\tlongitude: '',\r\n\t\t\t\tlatitude: '',\r\n\t\t\t\tcontent: '',\r\n\t\t\t\timgList: '',\r\n\t\t\t\tvideoSrc:\"\"\r\n\t\t\t},\n\t\t\timgList: [],\r\n\t\t\tvideoList:[],\n\t\t\ttypeList:[],\n\t\t\tchildList:[],\n\t\t\tdisabled:true,\r\n\t\t\t\r\n\t\t};\r\n\t},\r\n\tonReady() {\r\n\t\t//获取上报事件\n\t\tthis.getType();\r\n\t\tthis.dates = this.getNowFormatDate();\r\n\t\t\r\n\t},\r\n\t\r\n\t\r\n\tmethods: {\n\t\ttosts(){\n\t\t\tif(this.type2.length<=1&&this.upData.type=='0'){\n\t\t\t\tuni.showToast({\n\t\t\t\t    title: '请先选择类型',\n\t\t\t\t    duration: 2000,\n\t\t\t\t\ticon:\"none\"\n\t\t\t\t});\t\n\t\t\t\treturn\n\t\t\t}\n\t\t},\n\t\t // 获取当前系统时间戳anshi\n\t\t  getNowFormatDate() {\n\t\t      var date = new Date();\n\t\t      var seperator1 = \"-\";\n\t\t      var seperator2 = \":\";\n\t\t      var month = date.getMonth() + 1;\n\t\t      var strDate = date.getDate();\n\t\t      if (month >= 1 && month <= 9) {\n\t\t          month = \"0\" + month;\n\t\t      }\n\t\t      if (strDate >= 0 && strDate <= 9) {\n\t\t          strDate = \"0\" + strDate;\n\t\t      }\n\t\t      var currentdate = date.getFullYear() + seperator1 + month + seperator1 + strDate\n\t\t              + \" \" + date.getHours() + seperator2 + date.getMinutes()\n\t\t              + seperator2 + date.getSeconds();\n\t\t      return currentdate;\n\t\t  },\r\n\t\t\r\n\t\tschange(val) {\r\n\t\t\tconsole.log(111);\r\n\t\t\tconsole.log(val);\r\n\t\t},\r\n\t\tsetAttachData(val) {\r\n\t\t\tconsole.log(222);\r\n\t\t\tconsole.log(val);\r\n\t\t\t\r\n\t\t\tthis.imgList = val.img;\r\n\t\t\tthis.videoList=val.video\r\n\t\t\tconsole.log(this.imgList);\r\n\t\t},\r\n\t\tupdataJump() {\r\n\t\t\tconsole.log('上报提交');\r\n\t\t\t//console.log(this.upData);\r\n\t\t\t\n\t\t\tconsole.log(this.upData);\n\t\t\tthis.upData.imgList=this.imgList\r\n\t\t\tthis.upData.videoSrc=this.videoList\n\t\t\tconsole.log(this.upData);\n\t\t\tif(this.upData.type=='0'){\n\t\t\t\tuni.showModal({\n\t\t\t\t\tcontent: \"请选择类型\",\n\t\t\t\t\tshowCancel: false,\n\t\t\t\t\tconfirmText: \"确定\"\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(this.upData.category=='0'){\n\t\t\t\tuni.showModal({\n\t\t\t\t\tcontent: \"请选择类别\",\n\t\t\t\t\tshowCancel: false,\n\t\t\t\t\tconfirmText: \"确定\"\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(this.upData.time=='点击选择'){\n\t\t\t\tuni.showModal({\n\t\t\t\t\tcontent: \"请选择上报时间\",\n\t\t\t\t\tshowCancel: false,\n\t\t\t\t\tconfirmText: \"确定\"\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(this.upData.address=='选择地点'){\n\t\t\t\tuni.showModal({\n\t\t\t\t\tcontent: \"请选择事发地点\",\n\t\t\t\t\tshowCancel: false,\n\t\t\t\t\tconfirmText: \"确定\"\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(this.upData.content==''){\n\t\t\t\tuni.showModal({\n\t\t\t\t\tcontent: \"请输入事件描述\",\n\t\t\t\t\tshowCancel: false,\n\t\t\t\t\tconfirmText: \"确定\"\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(this.upData.imgList.length==0&&this.upData.videoSrc.length==0){\n\t\t\t\tuni.showModal({\n\t\t\t\t\tcontent: \"请上传图片/视频\",\n\t\t\t\t\tshowCancel: false,\n\t\t\t\t\tconfirmText: \"确定\"\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\t\t\t\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: 'loading'\r\n\t\t\t});\r\n\t\t\tthis.$http\r\n\t\t\t\t.post('/interface/rest/http/xlwb/xlgc-wb-xcx-grzx-wysb.htm', this.upData, { params: {} })\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tconsole.log('上报结果++++++');\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tif (res.data.msgState == 1) {\r\n\t\t\t\t\t\tthis.cleanData();\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\n\t\t\t\t\t}else{\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t\t});\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t});\r\n\t\t\t// setTimeout(() => {\r\n\t\t\t// \tuni.hideLoading();\r\n\t\t\t// \tuni.showToast({\r\n\t\t\t// \t    title: '上报成功',\r\n\t\t\t// \t    duration: 2000\r\n\t\t\t// \t});\r\n\t\t\t// \tthis.cleanData();\r\n\t\t\t// }, 1000);\r\n\t\t},\r\n\t\tontrueGetList() {\r\n\t\t\t\r\n\t\t\tconsole.log(getIsNewStorage())\n\t\t\tthis.dates = this.getNowFormatDate()\r\n\t\t\tif(getIsNewStorage()==\"true\"){\r\n\t\t\t\tthis.cleanData()\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//获取上报类型\r\n\t\t\t//this.getType1()\r\n\t\t},\r\n\t\tgetType() {\r\n\t\t\tthis.$http\r\n\t\t\t\t.get('/interface/rest/http/condition/xltz-sjlxlb.htm', { params: {} })\r\n\t\t\t\t.then(res => {\r\n\t\t\t//console.log('事件类型');\r\n\t\t\t\t//\tconsole.log(res);\r\n\t\t\t\t\tif (res.data.msgState == 1) {\r\n\t\t\t\t\t\tvar obj1 = [{ id: '0', name: '点击选择' }];\r\n\t\t\t\t\t\tvar data = res.data.result;\r\n\t\t\t\t\t\tthis.typeList= [...obj1, ...data];\r\n\t\t\t\t\t\tthis.type1 = this.typeChange(this.typeList);\n\t\t\t\t\t\r\n\t\t\t\t\t\tthis.type2=\tthis.typeChange(obj1)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tgetType1() {\r\n\t\t\tthis.$http\r\n\t\t\t\t.get('/interface/rest/http/xlwb/xlgc-wb-xcx-sjlbxz.htm', { params: {} })\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tconsole.log('事件类别');\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tif (res.data.msgState == 1) {\r\n\t\t\t\t\t\t\tvar obj1=[{id:'0',name:\"点击选择\"}]\r\n\t\t\t\t\t\t\tvar data=res.data.list\r\n\t\t\t\t\t\t\tvar obj=[...obj1,...data]\r\n\t\t\t\t\t\tthis.type2=\tthis.typeChange(obj)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t//处理函数\r\n\t\ttypeChange(val) {\r\n\t\t\tvar arr = [];\r\n\t\t\tfor (let item in val) {\r\n\t\t\t\t//console.log(val[item].name);\r\n\t\t\t\tarr.push(val[item].name);\r\n\t\t\t}\r\n\r\n\t\t\treturn arr;\r\n\t\t},\r\n\t\tcleanData() {\r\n\t\t\tthis.$refs.upload.cleanAll();\r\n\t\t\tvar obj1 = [{ id: '0', name: '点击选择' }];\r\n\t\t\tvar upData = {\r\n\t\t\t\ttype: '0',\r\n\t\t\t\tcategory: '0',\r\n\t\t\t\ttime: '点击选择',\r\n\t\t\t\taddress: '选择地点',\r\n\t\t\t\tlongitude: '',\r\n\t\t\t\tlatitude: '',\r\n\t\t\t\tcontent: '',\r\n\t\t\t\timgList: \"\",\n\t\t\t\tvideoSrc:\"\"\r\n\t\t\t};\n\t\t\tthis.typeNum1=0\n\t\t\tthis.typeNum2=0\n\t\t\tthis.imgList=[]\n\t\t\tthis.videoList=[]\r\n\t\t\tthis.type2=this.typeChange(obj1)\r\n\t\t\tthis.disabled=true\r\n\t\t\tthis.upData = upData;\r\n\t\t},\r\n\t\tsizeTypeChange(e) {\n\t\t\t\n\t\t\tvar num=parseInt(e.detail.value)\n\t\t\tthis.typeNum1=num\r\n\t\t\tthis.upData.type =this.typeList[num].id ;\n\t\t\tvar dataa=this.typeList[num].child\n\t\t\t\n\t\t\tvar obj1=[{id:'0',name:\"点击选择\"}]\n\t\t\tthis.childList=[...obj1,...dataa]\n\t\t\tthis.type2=\tthis.typeChange(this.childList)\n\t\t\tthis.disabled=false\n\t\t\t//console.log(this.type2)\n\t\t\t\r\n\t\t},\r\n\t\tsizeType2Change(e) {\n\t\t\tvar num1=parseInt(e.detail.value)\n\t\t\tthis.typeNum2=num1\r\n\t\t\tthis.upData.category = this.childList[num1].id;\n\t\t\t//console.log(this.upData.type)\r\n\t\t\t//console.log(this.upData.category)\r\n\t\t},\r\n\t\tget_location() {\r\n\t\t\tsetIsNewStorage(\"false\")\r\n\t\t\tconst that = this;\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '加载中',\r\n\t\t\t\tmask: true\r\n\t\t\t});\r\n\r\n\t\t\t//#ifdef MP-WEIXIN\r\n\t\t\tuni.getSetting({\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tif (!res.authSetting['scope.userLocation']) {\r\n\t\t\t\t\t\tuni.authorize({\r\n\t\t\t\t\t\t\tscope: 'scope.userLocation',\r\n\t\t\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\t\t\tthat.chooseLocation();\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\t\tfail() {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '无法获取地图权限',\r\n\t\t\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.chooseLocation();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t//#endif\r\n\t\t\t//that.chooseLocation()\r\n\t\t\t//uni.hideLoading()\r\n\t\t},\r\n\t\tchooseLocation: function() {\r\n\t\t\tuni.chooseLocation({\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tconsole.log(res.name);\r\n\t\t\t\t\tconsole.log(res.address);\r\n\t\t\t\t\tconsole.log(res.longitude);\r\n\t\t\t\t\tconsole.log(res.latitude);\r\n\t\t\t\t\t// this.location = formatLocation(res.longitude, res.latitude),\r\n\t\t\t\t\tthis.upData.address= res.name;\r\n\t\t\t\t\tthis.upData.longitude = res.longitude;\r\n\t\t\t\t\tthis.upData.latitude = res.latitude;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tshowPicker() {\r\n\t\t\tthis.$refs.date1.show();\r\n\t\t},\r\n\t\tonConfirm(res, type) {\r\n\t\t\tthis.upData.time = res.result;\r\n\t\t\tconsole.log(res.result);\r\n\t\t},\r\n\t\t//上传图片/视频\r\n\t\tupLoadImg() {\r\n\t\t\tconsole.log('根据选择调用不同的api');\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\npage {\r\n\tbackground-color: #f8f8f8;\r\n}\r\n.main{\n\t\n}\n// .main_box{\n// \t// height: 100vh;\n// \tpadding-bottom: 150rpx;\n// \tbox-sizing: border-box;\n// }\n.end{\n\theight: 125rpx;\n\t//background-color: red;\n}\r\n.item {\n\t\r\n\twidth: 690rpx;\r\n\tmin-height: 54rpx;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tflex: 1;\r\n\tjustify-content: space-between;\r\n\tpadding: 18rpx 30rpx;\r\n\tbackground-color: #ffffff;\r\n\t//border-top: 1rpx #DDDDDD solid;\r\n\tborder-bottom: 1rpx #dddddd solid;\r\n\tline-height: 54rpx;\r\n\r\n\t.item-title {\r\n\t\tfont-size: 34rpx;\r\n\t}\r\n\t.item-next {\r\n\t\tcolor: #888888;\r\n\t\tfont-size: 32rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.item-next1 {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\tcolor: #888888;\r\n\t\tfont-size: 32rpx;\r\n\t}\r\n\r\n\t.right-title {\r\n\t\tmargin-right: 10rpx;\r\n\t}\r\n\r\n\t.ipt {\r\n\t\ttext-align: right;\r\n\t\twidth: 400rpx;\r\n\t\theight: 32rpx;\r\n\t\tmargin-right: 50rpx;\r\n\t}\r\n}\r\n\r\n.adresss {\n\ttext-align: right;\n\twidth: 500rpx;\n\tline-height: 40rpx;\n\toverflow: hidden;\n\tword-break: break-all; /* break-all(允许在单词内换行。) */\n\ttext-overflow: ellipsis; /* 超出部分省略号 */\n\tdisplay: -webkit-box; /** 对象作为伸缩盒子模型显示 **/\n\t-webkit-box-orient: vertical; /** 设置或检索伸缩盒对象的子元素的排列方式 **/\n\t-webkit-line-clamp: 2; /** 显示的行数 **/\n\t\r\n}\r\n.address-icon {\r\n\twidth: 36rpx;\r\n\theight: 36rpx;\r\n\tmargin-left: 2rpx;\r\n}\r\n.item1 {\r\n\twidth: 690rpx;\r\n\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tflex: 1;\r\n\r\n\tpadding: 0 30rpx 70rpx;\r\n\tbackground-color: #ffffff;\r\n\t//border-top: 1rpx #DDDDDD solid;\r\n\tborder-bottom: 1rpx #dddddd solid;\r\n\t.item-title1 {\r\n\t\tmargin: 20rpx 0;\r\n\t\tfont-size: 34rpx;\r\n\t}\r\n}\r\n\r\n.mark-ipt {\r\n\twidth: 100%;\r\n\tline-height: 51rpx;\r\n\tfont-size: 34rpx;\r\n}\r\n.uplaod-img {\r\n\twidth: 158rpx;\r\n\theight: 158rpx;\r\n}\r\n.item2 {\r\n\twidth: 690rpx;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tflex: 1;\r\n\r\n\tpadding: 0 30rpx 20rpx;\r\n\tbackground-color: #ffffff;\r\n\r\n\t.item-title1 {\r\n\t\tmargin: 20rpx 0;\r\n\t\tfont-size: 34rpx;\r\n\t}\r\n}\r\n.tip-uplaod {\r\n\tfont-size: 20rpx;\r\n\tcolor: #bbbbbb;\r\n\tmargin-top: 10rpx;\r\n}\r\n.btn-login {\r\n\tmargin: 72rpx auto 50rpx;\r\n\tcolor: #ffffff;\r\n\tfont-size: 36rpx;\r\n\twidth: 690rpx;\r\n\theight: 94rpx;\r\n\tbackground: #2256d8 !important;\r\n\tborder-radius: 10rpx;\r\n}\r\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Data.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Data.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1595938820458\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}