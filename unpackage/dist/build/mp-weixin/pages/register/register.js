(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/register/register"],{"0099":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=t("fbca");function i(e){return c(e)||s(e)||a(e)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,n){if(e){if("string"===typeof e)return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,n):void 0}}function s(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function c(e){if(Array.isArray(e))return u(e)}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var l=function(){Promise.all([t.e("common/vendor"),t.e("components/uni-icons/uni-icons")]).then(function(){return resolve(t("8d28"))}.bind(null,t)).catch(t.oe)},f={components:{uniIcons:l},data:function(){return{imageList:[],name:"",idCard:"",phone:"",array:["请选择","男","女"],sexIndex:0,workList:[],workIndex:0,userInfo:{avatar:"",username:"",idcard:"",sex:"0",phone:"",unit:"0"}}},onShow:function(){e.hideHomeButton()},onLoad:function(){this.getType()},methods:{jumpRegster:function(){e.redirectTo({url:"../login/login"})},getType:function(){var n=this;this.$http.get("/interface/rest/http/xlwb/xlgc-wb-xcx-dwxz.htm",{params:{type:1}}).then((function(t){if(1==t.data.msgState){var o=[{id:"0",unit:"点击选择"}],r=t.data.list,a=[].concat(o,i(r));n.workList=n.typeChange(a)}else e.showLoading({title:"请求失败"})})).catch((function(e){console.log(e)}))},typeChange:function(e){var n=[];for(var t in e)n.push(e[t].unit);return n},submitMsg:function(){if(console.log(this.userInfo),this.userInfo.avatar.length<1)e.showModal({content:"请上传头像!",showCancel:!1,confirmText:"确定"});else if(this.userInfo.username.length<1)e.showModal({content:"请输入姓名!",showCancel:!1,confirmText:"确定"});else if("0"!=this.userInfo.sex)if(this.userInfo.idcard.length<10)e.showModal({content:"请输入身份证号!",showCancel:!1,confirmText:"确定"});else if(this.userInfo.phone.length<5)e.showModal({content:"请输入电话号码!",showCancel:!1,confirmText:"确定"});else if("0"!=this.userInfo.unit){var n={avatar:this.userInfo.avatar,username:this.userInfo.username,idcard:this.userInfo.idcard,sex:this.userInfo.sex.toString(),phone:this.userInfo.phone,unit:this.userInfo.unit.toString()};console.log(n),e.showLoading({title:"loading"}),(0,o.setTokenStorage)("register"),this.$http.post("/interface/rest/http/xlwb/xlgc-wb-jdh-yhzc.htm",n).then((function(n){console.log(n),e.hideLoading(),1==n.data.msgState&&e.redirectTo({url:"../regres/regres"})})).catch((function(e){console.log(e)}))}else e.showModal({content:"请选择所在单位!",showCancel:!1,confirmText:"确定"});else e.showModal({content:"请选择性别!",showCancel:!1,confirmText:"确定"})},chooseImage:function(){var n=this;e.chooseImage({count:1,success:function(t){e.showLoading({title:"上传中...",mask:!0}),e.uploadFile({url:"https://app8848.com/interface/rest/file/upload/util/uploadFile.htm",header:{token:"311288512_eN2cdo2snJhQbJO2mC36zszJLC2kaomWjJlQbklk3cXOLC2lbpFWbC363i3T3ZmNbJ0ixcAT3ZlRmZ92mC36zCPiaoy8bJGZao2S3cXOLC2TbJdWbluWbpUixcE1x8vGzckPzc3Hy8vT3Z1haZ9Napvixi3iLC2SmpG1tpvixcE1yMUT3ZGWnJSxnp1l3cXiGnin6362GXCd3iPij5hQbZUixi3iLC2Papvixi3OzsEOzsEOzsEOzsEOzsEiLC2NmpFTsZFSmt363Rp3ZxixieaAYt3T3Y2Qb5UixcvT3Yyca59QbEGhbpUixiLlhb8Wg2slWKflraniLC2Mmpy1jZl0eVBhjIyIbI2k3cXix8nMysvPx8dfnkdHek1UtoWyeklH3iPijJhQjYuxnp1l3cXisFunpt3T3YuJVoyljklk3cXPLC21bZl03cXibYVTbC3T3YVMmo22mC36zszJx8kHLC21jJVNsZFSmt363ZOWdpOWjJkiLC2Ie4VMmo2WmC363ZOWdpOWjJkifv"},filePath:t.tempFilePaths[0],name:"file",success:function(t){var o=JSON.parse(t.data);1==o.msgState?n.userInfo.avatar=o.result:e.showToast({title:"上传失败，请重新上传",duration:2e3})}}),e.hideLoading()}})},workListChange:function(e){this.userInfo.unit=parseInt(e.detail.value)},sizeTypeChange:function(e){this.userInfo.sex=parseInt(e.detail.value)}}};n.default=f}).call(this,t("543d")["default"])},"0af7":function(e,n,t){"use strict";var o=t("8683"),i=t.n(o);i.a},"37fe":function(e,n,t){"use strict";t.r(n);var o=t("0099"),i=t.n(o);for(var r in o)"default"!==r&&function(e){t.d(n,e,(function(){return o[e]}))}(r);n["default"]=i.a},"4aec":function(e,n,t){"use strict";t.r(n);var o=t("f2d3"),i=t("37fe");for(var r in i)"default"!==r&&function(e){t.d(n,e,(function(){return i[e]}))}(r);t("0af7");var a,s=t("f0c5"),c=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],a);n["default"]=c.exports},"7e61":function(e,n,t){"use strict";(function(e){t("700f"),t("921b");o(t("66fd"));var n=o(t("4aec"));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},8683:function(e,n,t){},f2d3:function(e,n,t){"use strict";var o={"uni-icons":function(){return Promise.all([t.e("common/vendor"),t.e("components/uni-icons/uni-icons")]).then(t.bind(null,"8d28"))}},i=function(){var e=this,n=e.$createElement;e._self._c},r=[];t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return r})),t.d(n,"a",(function(){return o}))}},[["7e61","common/runtime","common/vendor"]]]);