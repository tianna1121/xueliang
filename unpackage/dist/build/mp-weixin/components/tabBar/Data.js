(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/tabBar/Data"],{"260f":function(t,e,n){"use strict";n.r(e);var o=n("9135"),a=n("3e52");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("e2ba");var s,c=n("f0c5"),r=Object(c["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],s);e["default"]=r.exports},"3e52":function(t,e,n){"use strict";n.r(e);var o=n("c7de"),a=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=a.a},"80af":function(t,e,n){},9135:function(t,e,n){"use strict";var o={"uni-nav-bar":function(){return n.e("components/uni-nav-bar/uni-nav-bar").then(n.bind(null,"f9cd"))},"uni-icons":function(){return Promise.all([n.e("common/vendor"),n.e("components/uni-icons/uni-icons")]).then(n.bind(null,"48a4"))},"w-picker":function(){return n.e("components/w-picker/w-picker").then(n.bind(null,"fef1"))}},a=function(){var t=this,e=t.$createElement;t._self._c},i=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}))},c7de:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n("b2e8");function a(t){return r(t)||c(t)||s(t)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function c(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function r(t){if(Array.isArray(t))return u(t)}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var l=function(){n.e("components/uni-nav-bar/uni-nav-bar").then(function(){return resolve(n("f9cd"))}.bind(null,n)).catch(n.oe)},h=function(){n.e("components/h-upload/h-upload").then(function(){return resolve(n("1391"))}.bind(null,n)).catch(n.oe)},d={components:{uniNavBar:l,hUpload:h},data:function(){return{type1:[],typeNum1:0,type2:[],typeNum2:0,type2Index:0,dates:"",upData:{type:"0",category:"0",time:"点击选择",address:"选择地点",longitude:"",latitude:"",content:"",imgList:"",videoSrc:""},imgList:[],videoList:[],typeList:[],childList:[],disabled:!0}},onReady:function(){this.getType(),this.dates=this.getNowFormatDate()},methods:{tosts:function(){this.type2.length<=1&&"0"==this.upData.type&&t.showToast({title:"请先选择类型",duration:2e3,icon:"none"})},getNowFormatDate:function(){var t=new Date,e="-",n=":",o=t.getMonth()+1,a=t.getDate();o>=1&&o<=9&&(o="0"+o),a>=0&&a<=9&&(a="0"+a);var i=t.getFullYear()+e+o+e+a+" "+t.getHours()+n+t.getMinutes()+n+t.getSeconds();return i},schange:function(t){console.log(111),console.log(t)},setAttachData:function(t){console.log(222),console.log(t),this.imgList=t.img,this.videoList=t.video,console.log(this.imgList)},updataJump:function(){var e=this;console.log("上报提交"),console.log(this.upData),this.upData.imgList=this.imgList,this.upData.videoSrc=this.videoList,console.log(this.upData),"0"!=this.upData.type?"0"!=this.upData.category?"点击选择"!=this.upData.time?"选择地点"!=this.upData.address?""!=this.upData.content?0!=this.upData.imgList.length||0!=this.upData.videoSrc.length?(t.showLoading({title:"loading"}),this.$http.post("/interface/rest/http/xlwb/xlgc-wb-xcx-grzx-wysb.htm",this.upData,{params:{}}).then((function(n){t.hideLoading(),console.log("上报结果++++++"),console.log(n),1==n.data.msgState?(e.cleanData(),t.showToast({title:n.data.msg,duration:2e3})):t.showToast({title:n.data.msg,duration:2e3,icon:"none"})})).catch((function(e){console.log(e),t.hideLoading()}))):t.showModal({content:"请上传图片/视频",showCancel:!1,confirmText:"确定"}):t.showModal({content:"请输入事件描述",showCancel:!1,confirmText:"确定"}):t.showModal({content:"请选择事发地点",showCancel:!1,confirmText:"确定"}):t.showModal({content:"请选择上报时间",showCancel:!1,confirmText:"确定"}):t.showModal({content:"请选择类别",showCancel:!1,confirmText:"确定"}):t.showModal({content:"请选择类型",showCancel:!1,confirmText:"确定"})},ontrueGetList:function(){console.log((0,o.getIsNewStorage)()),this.dates=this.getNowFormatDate(),"true"==(0,o.getIsNewStorage)()&&this.cleanData()},getType:function(){var e=this;this.$http.get("/interface/rest/http/condition/xltz-sjlxlb.htm",{params:{}}).then((function(n){if(1==n.data.msgState){var o=[{id:"0",name:"点击选择"}],i=n.data.result;e.typeList=[].concat(o,a(i)),e.type1=e.typeChange(e.typeList),e.type2=e.typeChange(o)}else t.showToast({title:n.data.msg,duration:2e3,icon:"none"})})).catch((function(t){console.log(t)}))},getType1:function(){var e=this;this.$http.get("/interface/rest/http/xlwb/xlgc-wb-xcx-sjlbxz.htm",{params:{}}).then((function(n){if(console.log("事件类别"),console.log(n),1==n.data.msgState){var o=[{id:"0",name:"点击选择"}],i=n.data.list,s=[].concat(o,a(i));e.type2=e.typeChange(s)}else t.showToast({title:n.data.msg,duration:2e3,icon:"none"})})).catch((function(t){console.log(t)}))},typeChange:function(t){var e=[];for(var n in t)e.push(t[n].name);return e},cleanData:function(){this.$refs.upload.cleanAll();var t=[{id:"0",name:"点击选择"}],e={type:"0",category:"0",time:"点击选择",address:"选择地点",longitude:"",latitude:"",content:"",imgList:""};this.typeNum1=0,this.typeNum2=0,this.imgList=[],this.type2=this.typeChange(t),this.disabled=!0,this.upData=e},sizeTypeChange:function(t){var e=parseInt(t.detail.value);this.typeNum1=e,this.upData.type=this.typeList[e].id;var n=this.typeList[e].child,o=[{id:"0",name:"点击选择"}];this.childList=[].concat(o,a(n)),this.type2=this.typeChange(this.childList),this.disabled=!1},sizeType2Change:function(t){var e=parseInt(t.detail.value);this.typeNum2=e,this.upData.category=this.childList[e].id},get_location:function(){(0,o.setIsNewStorage)("false");var e=this;t.showLoading({title:"加载中",mask:!0}),t.getSetting({success:function(n){t.hideLoading(),n.authSetting["scope.userLocation"]?e.chooseLocation():t.authorize({scope:"scope.userLocation",success:function(){e.chooseLocation()},fail:function(){t.showToast({title:"无法获取地图权限",duration:2e3,icon:"none"})}})}})},chooseLocation:function(){var e=this;t.chooseLocation({success:function(t){console.log(t.name),console.log(t.address),console.log(t.longitude),console.log(t.latitude),e.upData.address=t.name,e.upData.longitude=t.longitude,e.upData.latitude=t.latitude}})},showPicker:function(){this.$refs.date1.show()},onConfirm:function(t,e){this.upData.time=t.result,console.log(t.result)},upLoadImg:function(){console.log("根据选择调用不同的api")}}};e.default=d}).call(this,n("543d")["default"])},e2ba:function(t,e,n){"use strict";var o=n("80af"),a=n.n(o);a.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/tabBar/Data-create-component',
    {
        'components/tabBar/Data-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("260f"))
        })
    },
    [['components/tabBar/Data-create-component']]
]);
